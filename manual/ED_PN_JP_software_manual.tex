\documentclass[paper=a4, fontsize=11pt]{scrartcl} % A4 paper and 11pt font size
% Rux
\usepackage{geometry}
\geometry{margin=1in}

%~ \usepackage[sort&compress,square,comma,authoryear]{natbib}
\usepackage{natbib}

%Rux: no indent, line skipped
\usepackage[parfill]{parskip}
%Rux: no word splitting
%~ \usepackage[none]{hyphenat}

\usepackage{booktabs} % Rux: \small, \tiny
\usepackage[T1]{fontenc} % Use 8-bit encoding that has 256 glyphs
\usepackage{fourier} % Use the Adobe Utopia font for the document - comment this line to return to the LaTeX default
\usepackage[english]{babel} % English language/hyphenation
% Rux: added bm for vectors
\usepackage{amsmath,amsfonts,amsthm, bm} % Math packages
% Rux: more math symbols
\usepackage{amssymb}

\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template

\usepackage{sectsty} % Allows customizing section commands
\allsectionsfont{\centering \normalfont\scshape} % Make all sections centred, the default font and small caps

\usepackage{fancyhdr} % Custom headers and footers
\pagestyle{fancyplain} % Makes all pages in the document conform to the custom headers and footers
\fancyhead{} % No page header - if you want one, create it in the same way as the footers below
\fancyfoot[L]{} % Empty left footer
\fancyfoot[C]{} % Empty center footer
\fancyfoot[R]{\thepage} % Page numbering for right footer
\renewcommand{\headrulewidth}{0pt} % Remove header underlines
\renewcommand{\footrulewidth}{0pt} % Remove footer underlines
\setlength{\headheight}{13.6pt} % Customize the height of the header

\numberwithin{equation}{section} % Number equations within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{figure}{section} % Number figures within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{table}{section} % Number tables within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)

\setlength\parindent{0pt} % Removes all indentation from paragraphs - comment this line for an assignment with lots of text

% Rux: to include picture in the LaTeX document
\usepackage{graphicx}
\usepackage{wrapfig}
% Rux: force figure placement
\usepackage{float}
% Rux: captionof
\usepackage{caption}

% Rux: linking of references in the pdf and setting some options
\usepackage{url}                                                  % for correct typesettings of URLs
\usepackage{hyperref}                                             % for sophisticated linking of urls, dois, pictures, tables, etc.  
\hypersetup{
    unicode=true,                                                 % non-Latin characters in Acrobat’s bookmarks
    pdftoolbar=true,                                              % show Acrobat’s toolbar?
    pdfmenubar=true,                                              % show Acrobat’s menu?
    pdffitwindow=false,                                           % window fit to page when opened
    pdfstartview={FitH},                                          % fits the width of the page to the window
    pdftitle={SWaRP: Speckle Wavefront Reconstruction Package - User Manual},  % title
    pdfauthor={Cojocaru and Berujon},                             % author
    pdfsubject={EUCALL},                                          % subject of the document
    pdfcreator={XeLaTeX},                                         % creator of the document
    pdfkeywords={EUCALL},                                         % list of keywords
    pdfnewwindow=true,                                            % links in new PDF window
    colorlinks=true,                                              % false: boxed links; true: colored links
    linkcolor=blue,                                                % color of internal links (change box color with linkbordercolor)
    citecolor=blue,                                                % color of links to bibliography
    filecolor=cyan,                                               % color of file links
    urlcolor=blue                                                 % color of external links
}

% Rux: code snippet
\usepackage{listings} % Required for inserting code snippets
\usepackage[usenames,dvipsnames]{color} % Required for specifying custom colors and referring to colors by name

\definecolor{DarkGreen}{rgb}{0.0,0.4,0.0} % Comment color
\definecolor{highlight}{RGB}{255,251,204} % Code highlight color

\lstdefinestyle{Style1}{ % Define a style for your code snippet, multiple definitions can be made if, for example, you wish to insert multiple code snippets using different programming languages into one document
language=Bash, % Detects keywords, comments, strings, functions, etc for the language specified
backgroundcolor=\color{highlight}, % Set the background color for the snippet - useful for highlighting
basicstyle=\footnotesize\ttfamily, % The default font size and style of the code
breakatwhitespace=false, % If true, only allows line breaks at white space
breaklines=true, % Automatic line breaking (prevents code from protruding outside the box)
captionpos=b, % Sets the caption position: b for bottom; t for top
commentstyle=\usefont{T1}{pcr}{m}{sl}\color{DarkGreen}, % Style of comments within the code - dark green courier font
deletekeywords={}, % If you want to delete any keywords from the current language separate them by commas
%escapeinside={\%}, % This allows you to escape to LaTeX using the character in the bracket
firstnumber=1, % Line numbers begin at line 1
frame=single, % Frame around the code box, value can be: none, leftline, topline, bottomline, lines, single, shadowbox
frameround=tttt, % Rounds the corners of the frame for the top left, top right, bottom left and bottom right positions
keywordstyle=\color{Blue}\bf, % Functions are bold and blue
morekeywords={}, % Add any functions no included by default here separated by commas
numbers=left, % Location of line numbers, can take the values of: none, left, right
numbersep=10pt, % Distance of line numbers from the code box
numberstyle=\tiny\color{Gray}, % Style used for line numbers
rulecolor=\color{black}, % Frame border color
showstringspaces=false, % Don't put marks in string spaces
showtabs=false, % Display tabs in the code as lines
stepnumber=5, % The step distance between line numbers, i.e. how often will lines be numbered
stringstyle=\color{Purple}, % Strings are purple
tabsize=2, % Number of spaces per tab in the code
}

% Create a command to cleanly insert a snippet with the style above anywhere in the document
%~ \newcommand{\insertcode}[3]{\begin{itemize}\item[]\lstinputlisting[firstline=#3, lastline=#4, caption=#2,label=#1,style=Style1]{#1}\end{itemize}} % The first argument is the script location/filename and the second is a caption for the listing
\newcommand{\insertcode}[3]{\begin{itemize}\item[]\lstinputlisting[caption=#2,label=#1,style=Style1]{#1}\end{itemize}} % The first argument is the script location/filename and the second is a caption for the listing

% Rux: center captions
\usepackage[justification=centering]{caption}

% Rux: modify hlinenew
\newcommand{\hlinenew}{\noalign{\vskip 1.5pt}\hline\noalign{\vskip 1.5pt}}

% Rux: redpen
\usepackage{color}
\newcommand{\redpen}[1]{{\color{red}#1}}
% Rux: big integral sign
\usepackage{bigints}
% Rux: itemize roman i), ii)
\usepackage{enumitem} 
% Rux: mu
\usepackage{textcomp}
% Rux: table over multiple pages
\usepackage{longtable}
% Rux: header color
\usepackage[dvipsnames,table]{xcolor}

\definecolor{light-gray}{HTML}{E5E4E2}
\definecolor{blue-sky}{HTML}{3BB9FF}
\definecolor{white}{HTML}{FFFFFF}

% Rux: author, titlte, abstract, table of contents
\usepackage[affil-it]{authblk} 
\usepackage{etoolbox}
\usepackage{lmodern}

\renewcommand\Authfont{\fontsize{12}{13}\selectfont}
\renewcommand\Affilfont{\fontsize{9}{10.8}\itshape}
\renewcommand\abstractname{SWaRP}

\title{\line(1,0){250}\\Exact diagonalization\\User Manual\\\line(1,0){250}}
\author{Juan Polo (\url{joanpologomez@gmail.com}) \\ 
Piero Naldesi (\url{piero.naldesi@lpmmc.cnrs.fr})}
\affil{LPMMC, Grenoble, France}
\date{\url{https://github.com/JeanClaude87/BH_diagonalization}\\\today}


\begin{document}
\maketitle

\begin{abstract}
Exact diagonalization of interacting Bose gases
\end{abstract}

\tableofcontents

\clearpage

\section{Quick User Guide}

The SWaRP software package is a pure python code, consisting of two main scripts (\textit{detectorDistortion.py} and \textit{waveFront.py}) and several libraries (\textit{func.py} - containing the main functions of the code, \textit{EdfFile.py} - dedicated to handling the EDF file format, \textit{norm\textunderscore xcorr.py} - computes subset displacements using cross-correlation in the real-space, \textit{g2s.py} - performs \textit{grad2surf} integration). Being mainly a number-crunching code, it is currently designed to be ran directly from a terminal without a graphical user interface.

\subsection{Installation}


\subsection{Running the code}
\label{subsec:run}






\newpage

\section{Exact diagonalization principle}


The first element to implement an Exact diagonalization algorithm is to find the best way to write the basis. In particular we need to index each state of the basis in a way that we can easily distinctly identify them. We will use the following table as an example:





\lstinputlisting[style=Style1,firstline=37, lastline=45]{scripts/bose.py}



\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Results}




\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Data workflow}

\subsection{Main scripts and flow-charts}
\label{subsec:scripts}


\subsection{File handling}
\label{subsec:files}





\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% BibLaTeX References
%~ \addcontentsline{toc}{section}{References}
%~ \bibliographystyle{plainnat}
%~ \bibliography{}
%~ \renewcommand\bibname{}%leave blanc if you do not want to have the heading

\end{document}
